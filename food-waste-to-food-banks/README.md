# Connecting Food Waste to Food Banks

## 1 The problem
The United States produces 133 billion pounds of food waste per year [1], yet more than 37 billion people struggle with hunger annually in the U.S. [2]. We want to create a model to bridge this gap, focusing on food waste by producers, manufacturers, and retailers on the supply side and food banks on the demand side. To narrow the problem to an appropriate level of specificity, we consider one state, Arizona, and one county within the state, Maricopa County. Data was obtained from the EPA and Feeding America about the locations of sources of food waste (food producers, manufacturers, and retailers) and the amount of food wasted per facility, as well as the 2 food banks present within Maricopa County and the population they serve. While there are over 4,000 sources of food waste in Maricopa, this network only considers the top producers for demonstration purpose. Refer to the 3 files in this repository to follow along.

## 2 Using Google Maps to visualize the network
Google maps allows us to create custom maps with marked locations, regions, and road links. It is free and very easy to use! To begin, navigate to My Maps: https://www.google.com/maps/d/u/0/?hl=en with a Google account. Alternatively, you can go to Google Maps: https://www.google.com/maps/, click on the menu sidebar, go to "Your Places", then "Maps". Now, click the button that says "Create a New Map". You should now see the following:
![](https://github.com/xzhao31/food-bank-sources/blob/master/reference-photos/1%20blank%20map.png)
From there, you can name your map, add a description, and start either importing data or manually adding them. Our network will have 3 layers: one for the 17 sources (food manufacturers and retailers), one for the 2 sinks (food banks), and one for the road links. Importing data is easy: just click the file you would like to upload and follow the instructions for choosing the columns that contain location and identifying data. If you would like to manually add locations, just click on the "add marker" icon at the top of the toolbar and drop the points. After the first two layers of nodes have been imported (see files "layer 1 sources.csv" and "layer 2 sinks" to follow along), the map should look like this:
![](https://github.com/xzhao31/food-bank-sources/blob/master/reference-photos/2%20map%20with%20first%20two%20layers.png)
Now, we can draw links between the sources. For large networks, a simple program can be written to connect the points in the network, but this one was created by manually connecting the 2 food banks to the sources near them. This makes the third layer of the network, and allows us to approximate the distance between sources of recoverable food and the food banks that need them. The network, with all layers, looks like this:
![](https://github.com/xzhao31/food-bank-sources/blob/master/reference-photos/3%20map%20with%20all%20three%20layers.png)
Congratulations! You've created a simple network on Google Maps. You can share it with others and create more complex networks now.

## 3 Using GAMS to find the shipment quantities
We want to find out, with these nodes in the network, how the food waste should be allocated to the the 2 sinks from the 17 sources. First, with the data given to us in "layer 1 sources.csv", we want to estimate the amount of consummable food that can be donated. To do so, we use simple formulas to find the averrage food waste between mininum and maximum estimated amounts, then multiply the average by 0.5. We use this number because a 2017 study estimated that 68% of wasted food is edible [3], and we adjust that number downwards to account for unrecoverable food and other spoilage. Second, we want to equitably distribute the excess food to the food banks based on the populations that they serve. The total amount of available excess food for distribution is 46,301.725 tons. Using simple algebraic manipulations, we determine that FB012 (United Food Bank) should get 21,801 tons and that FB013 (Saint Mary's Food Bank) should get 24,500.725 tons. Now, we use GAMS optimization software to find the shipment amounts between different sources and the two sinks. The code for this problem is based on that of the simple transporation problem, which you can find a detailed explanation of here: https://www.gams.com/latest/docs/UG_Tutorial.html The GAMS code is included in the "shipment quantities.gms" file. You can download GAMS here: https://www.gams.com/ and obtain a free demo license. The results after running are shown below:
![](https://github.com/xzhao31/food-bank-sources/blob/master/reference-photos/4%20GAMS%20output%20results.png)
These tell us how many tons of food should be transported between the 17 food sources and the 2 food banks to minimize costs due to transportation. For example, we know that source FMP41928 should give 5,746.150 tons of food to FB012 and 21,687.050 tons to FB013. All the pairs of origins and destinations in every shipment make the set of OD-pairs, as commonly referenced in the transportation literature.

## 4 Transportation Optimization with NeXTA-GMNS

This next part is optional, but we want to now perform a variation of the traveling salesman problem, determining the cheapest routes to take so that all the OD pairs are fulfilled. To do this, we utilize the STALite/NeXTA-GMNS software, which you can find an overview of here: https://github.com/xzhou99/stalite-dtalite_software_release. The files we will need to prepare are node.csv, road_link.csv, and (insert rest).

## 5 References

[1] Buzby, J.C., Bentley, J., Padera, B., Campuzano, J., & Ammon, C. (2016). Updated Supermarket Shrink Estimates for Fresh Foods and Their Implications for ERS Loss-Adjusted Food Availability Data. U.S. Department of Agriculture, Economic Research Service. https://www.ers.usda.gov/publications/pub-details/?pubid=44103 \

[2] Weinfield, N.S., Mills, G., Gearing, M., Macaluso, T., Montaquila, J., & Zedlewski, S.(2014). Hunger in America. Feeding America. https://www.feedingamerica.org/research/hunger-in-america

[3] Hoover, D., & Moreno, L. (2017). Estimating Quantities and Types of Food Waste at the City Level. National Resources Defense Council. https://www.nrdc.org/sites/default/files/food-waste-city-level-report.pdf
